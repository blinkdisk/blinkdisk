---
import Logo from "@marketing/components/icons/Logo.astro";
import Github from "@marketing/components/icons/Github.astro";
import X from "@marketing/components/icons/X.astro";
import Youtube from "@marketing/components/icons/Youtube.astro";

const footerLinks = {
  product: [
    { label: "Download", href: "/download" },
    { label: "CloudBlink", href: "/cloudblink" },
    {
      label: "Roadmap",
      href: "https://github.com/orgs/blinkdisk/projects/2",
      external: true,
    },
    { label: "Compare", href: "/compare/blinkdisk" },
  ],
  resources: [
    {
      label: "GitHub",
      href: "https://github.com/blinkdisk/blinkdisk",
      external: true,
    },
    { label: "Support", href: "mailto:support@blinkdisk.com", external: true },
    { label: "Glossary", href: "/glossary" },
    { label: "Blog", href: "/blog" },
  ],
  legal: [
    { label: "Privacy Policy", href: "/privacy" },
    { label: "Terms of Service", href: "/terms" },
    { label: "Refund Policy", href: "/refunds" },
    { label: "Imprint", href: "/imprint" },
  ],
};

const socialLinks = [
  { label: "GitHub", href: "https://github.com/blinkdisk", icon: "github" },
  { label: "X (formerly Twitter)", href: "https://x.com/blinkdisk", icon: "x" },
  {
    label: "YouTube",
    href: "https://www.youtube.com/@blinkdisk",
    icon: "youtube",
  },
];

const currentYear = new Date().getUTCFullYear();
---

<footer class="bg-secondary border-t">
  <div class="mx-auto max-w-6xl px-6 py-12 sm:px-8 lg:px-12">
    <div class="grid grid-cols-2 gap-8 md:grid-cols-5">
      <div class="col-span-2 flex flex-col items-center md:items-start">
        <a
          href="/"
          class="inline-block"
          aria-label="BlinkDisk"
          data-astro-prefetch
        >
          <Logo class="h-7 select-none" />
        </a>
        <p class="text-muted-foreground mt-4 text-sm">
          The easiest way to backup your files.
        </p>
        <div class="mt-6 flex justify-center gap-4 md:justify-start">
          {
            socialLinks.map((social) => (
              <a
                href={social.href}
                target="_blank"
                rel="noopener noreferrer"
                class="text-muted-foreground hover:text-foreground transition-colors"
                aria-label={social.label}
              >
                {social.icon === "github" && <Github class="size-5" />}
                {social.icon === "x" && <X class="size-5" />}
                {social.icon === "youtube" && <Youtube class="size-5" />}
              </a>
            ))
          }
        </div>
      </div>

      <div>
        <h3 class="text-foreground text-sm font-semibold">Product</h3>
        <ul class="mt-4 space-y-3">
          {
            footerLinks.product.map((link) => (
              <li>
                <a
                  href={link.href}
                  target={link.external ? "_blank" : undefined}
                  rel={link.external ? "noopener noreferrer" : undefined}
                  class="text-muted-foreground hover:text-foreground text-sm transition-colors"
                  data-astro-prefetch={!link.external ? "" : undefined}
                >
                  {link.label}
                </a>
              </li>
            ))
          }
        </ul>
      </div>

      <div>
        <h3 class="text-foreground text-sm font-semibold">Resources</h3>
        <ul class="mt-4 space-y-3">
          {
            footerLinks.resources.map((link) => (
              <li>
                <a
                  href={link.href}
                  target={link.external ? "_blank" : undefined}
                  rel="noopener noreferrer"
                  class="text-muted-foreground hover:text-foreground text-sm transition-colors"
                >
                  {link.label}
                </a>
              </li>
            ))
          }
        </ul>
      </div>

      <div>
        <h3 class="text-foreground text-sm font-semibold">Legal</h3>
        <ul class="mt-4 space-y-3">
          {
            footerLinks.legal.map((link) => (
              <li>
                <a
                  href={link.href}
                  class="text-muted-foreground hover:text-foreground text-sm transition-colors"
                  data-astro-prefetch
                >
                  {link.label}
                </a>
              </li>
            ))
          }
        </ul>
      </div>
    </div>

    <div
      class="border-border mt-12 flex flex-col items-center justify-between gap-4 border-t pt-8 sm:flex-row"
    >
      <p class="text-muted-foreground text-sm">
        Â© {currentYear} BlinkDisk. All rights reserved.
      </p>
      <iframe
        src="https://status.blinkdisk.com/badge?theme=light"
        title="Status Badge (Light)"
        width="185"
        height="30"
        class="-mr-4 overflow-hidden dark:hidden"
        style="border: none;"
        {...{ scrolling: "no", frameBorder: "0" }}></iframe>
      <iframe
        src="https://status.blinkdisk.com/badge?theme=dark"
        title="Status Badge (Dark)"
        width="185"
        height="30"
        class="-mr-4 hidden overflow-hidden dark:block"
        style="border: none;"
        {...{ scrolling: "no", frameBorder: "0" }}></iframe>
    </div>
  </div>
</footer>
